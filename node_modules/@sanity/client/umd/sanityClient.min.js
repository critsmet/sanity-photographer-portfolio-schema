!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SanityClient=t()}}(function(){return function i(s,a,u){function c(e,t){if(!a[e]){if(!s[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(l)return l(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[e]={exports:{}};s[e][0].call(o.exports,function(t){return c(s[e][1][t]||t)},o,o.exports,i,s,a,u)}return a[e].exports}for(var l="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({1:[function(t,e,r){"use strict";function i(t,e,r){var n=e[r];if(null!=n){if(a.call(t,r)&&(void 0===t[r]||null===t[r]))throw new TypeError("Cannot convert undefined or null to object ("+r+")");a.call(t,r)&&s(n)?t[r]=o(Object(t[r]),e[r]):t[r]=n}}function o(t,e){if(t===e)return t;for(var r in e=Object(e))a.call(e,r)&&i(t,e,r);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(e),o=0;o<n.length;o++)u.call(e,n[o])&&i(t,e,n[o]);return t}var s=t("is-obj"),a=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=function(t){t=function(t){if(null==t)throw new TypeError("Sources cannot be null or undefined");return Object(t)}(t);for(var e=1;e<arguments.length;e++)o(t,arguments[e]);return t}},{"is-obj":18}],2:[function(t,e,r){!function(t){function c(t,e,r,n){this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.data=e||null,this.origin=r||"",this.lastEventId=n||"",this.type=t||"message"}if(!t.EventSource||t._eventSourceImportPrefix){var e=(t._eventSourceImportPrefix||"")+"EventSource",r=function(t,e){if(!t||"string"!=typeof t)throw new SyntaxError("Not enough arguments");this.URL=t,this.setOptions(e);var r=this;setTimeout(function(){r.poll()},0)};if(r.prototype={CONNECTING:0,OPEN:1,CLOSED:2,defaultOptions:{loggingEnabled:!1,loggingPrefix:"eventsource",interval:500,bufferSizeLimit:262144,silentTimeout:3e5,getArgs:{evs_buffer_size_limit:262144},xhrHeaders:{Accept:"text/event-stream","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}},setOptions:function(t){var e,r=this.defaultOptions;for(e in r)r.hasOwnProperty(e)&&(this[e]=r[e]);for(e in t)e in r&&t.hasOwnProperty(e)&&(this[e]=t[e]);this.getArgs&&this.bufferSizeLimit&&(this.getArgs.evs_buffer_size_limit=this.bufferSizeLimit),"undefined"!=typeof console&&void 0!==console.log||(this.loggingEnabled=!1)},log:function(t){this.loggingEnabled&&console.log("["+this.loggingPrefix+"]:"+t)},poll:function(){try{if(this.readyState==this.CLOSED)return;this.cleanup(),this.readyState=this.CONNECTING,this.cursor=0,this.cache="",this._xhr=new this.XHR(this),this.resetNoActivityTimer()}catch(t){this.log("There were errors inside the pool try-catch"),this.dispatchEvent("error",{type:"error",data:t.message})}},pollAgain:function(t){var e=this;e.readyState=e.CONNECTING,e.dispatchEvent("error",{type:"error",data:"Reconnecting "}),this._pollTimer=setTimeout(function(){e.poll()},t||0)},cleanup:function(){this.log("evs cleaning up"),this._pollTimer&&(clearInterval(this._pollTimer),this._pollTimer=null),this._noActivityTimer&&(clearInterval(this._noActivityTimer),this._noActivityTimer=null),this._xhr&&(this._xhr.abort(),this._xhr=null)},resetNoActivityTimer:function(){if(this.silentTimeout){this._noActivityTimer&&clearInterval(this._noActivityTimer);var t=this;this._noActivityTimer=setTimeout(function(){t.log("Timeout! silentTImeout:"+t.silentTimeout),t.pollAgain()},this.silentTimeout)}},close:function(){this.readyState=this.CLOSED,this.log("Closing connection. readyState: "+this.readyState),this.cleanup()},ondata:function(){var t=this._xhr;if(t.isReady()&&!t.hasError()){this.resetNoActivityTimer(),this.readyState==this.CONNECTING&&(this.readyState=this.OPEN,this.dispatchEvent("open",{type:"open"}));var e=t.getBuffer();e.length>this.bufferSizeLimit&&(this.log("buffer.length > this.bufferSizeLimit"),this.pollAgain()),0==this.cursor&&0<e.length&&"\ufeff"==e.substring(0,1)&&(this.cursor=1);var r=this.lastMessageIndex(e);if(r[0]>=this.cursor){var n=r[1],o=e.substring(this.cursor,n);this.parseStream(o),this.cursor=n}t.isDone()&&(this.log("request.isDone(). reopening the connection"),this.pollAgain(this.interval))}else this.readyState!==this.CLOSED&&(this.log("this.readyState !== this.CLOSED"),this.pollAgain(this.interval))},parseStream:function(t){var e,r,n,o,i,s,a=(t=this.cache+this.normalizeToLF(t)).split("\n\n");for(e=0;e<a.length-1;e++){for(n="message",o=[],parts=a[e].split("\n"),r=0;r<parts.length;r++)0==(i=this.trimWhiteSpace(parts[r])).indexOf("event")?n=i.replace(/event:?\s*/,""):0==i.indexOf("retry")?(s=parseInt(i.replace(/retry:?\s*/,"")),isNaN(s)||(this.interval=s)):0==i.indexOf("data")?o.push(i.replace(/data:?\s*/,"")):0==i.indexOf("id:")?this.lastEventId=i.replace(/id:?\s*/,""):0==i.indexOf("id")&&(this.lastEventId=null);if(o.length){var u=new c(n,o.join("\n"),window.location.origin,this.lastEventId);this.dispatchEvent(n,u)}}this.cache=a[a.length-1]},dispatchEvent:function(t,e){var r=this["_"+t+"Handlers"];if(r)for(var n=0;n<r.length;n++)r[n].call(this,e);this["on"+t]&&this["on"+t].call(this,e)},addEventListener:function(t,e){this["_"+t+"Handlers"]||(this["_"+t+"Handlers"]=[]),this["_"+t+"Handlers"].push(e)},removeEventListener:function(t,e){var r=this["_"+t+"Handlers"];if(r)for(var n=r.length-1;0<=n;--n)if(r[n]===e){r.splice(n,1);break}},_pollTimer:null,_noactivityTimer:null,_xhr:null,lastEventId:null,cache:"",cursor:0,onerror:null,onmessage:null,onopen:null,readyState:0,urlWithParams:function(t,e){var r=[];if(e){var n,o,i=encodeURIComponent;for(n in e)e.hasOwnProperty(n)&&(o=i(n)+"="+i(e[n]),r.push(o))}return 0<r.length?-1==t.indexOf("?")?t+"?"+r.join("&"):t+"&"+r.join("&"):t},lastMessageIndex:function(t){var e=t.lastIndexOf("\n\n"),r=t.lastIndexOf("\r\r"),n=t.lastIndexOf("\r\n\r\n");return n>Math.max(e,r)?[n,n+4]:[Math.max(e,r),Math.max(e,r)+2]},trimWhiteSpace:function(t){return t.replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")},normalizeToLF:function(t){return t.replace(/\r\n|\r/g,"\n")}},window.XDomainRequest&&window.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType){r.isPolyfill="IE_8-9";var n=r.prototype.defaultOptions;n.xhrHeaders=null,n.getArgs.evs_preamble=2056,(r.prototype.XHR=function(t){request=new XDomainRequest,this._request=request,request.onprogress=function(){request._ready=!0,t.ondata()},request.onload=function(){this._loaded=!0,t.ondata()},request.onerror=function(){this._failed=!0,t.readyState=t.CLOSED,t.dispatchEvent("error",{type:"error",data:"XDomainRequest error"})},request.ontimeout=function(){this._failed=!0,t.readyState=t.CLOSED,t.dispatchEvent("error",{type:"error",data:"XDomainRequest timed out"})};var e={};if(t.getArgs){var r=t.getArgs;for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);t.lastEventId&&(e.evs_last_event_id=t.lastEventId)}request.open("GET",t.urlWithParams(t.URL,e)),request.send()}).prototype={useXDomainRequest:!0,_request:null,_ready:!1,_loaded:!1,_failed:!1,isReady:function(){return this._request._ready},isDone:function(){return this._request._loaded},hasError:function(){return this._request._failed},getBuffer:function(){var t="";try{t=this._request.responseText||""}catch(t){}return t},abort:function(){this._request&&this._request.abort()}}}else r.isPolyfill="XHR",(r.prototype.XHR=function(t){request=new XMLHttpRequest,this._request=request,t._xhr=this,request.onreadystatechange=function(){1<request.readyState&&t.readyState!=t.CLOSED&&(200==request.status||300<=request.status&&request.status<400?t.ondata():(request._failed=!0,t.readyState=t.CLOSED,t.dispatchEvent("error",{type:"error",data:"The server responded with "+request.status}),t.close()))},request.onprogress=function(){},request.open("GET",t.urlWithParams(t.URL,t.getArgs),!0);var e=t.xhrHeaders;for(var r in e)e.hasOwnProperty(r)&&request.setRequestHeader(r,e[r]);t.lastEventId&&request.setRequestHeader("Last-Event-Id",t.lastEventId),request.send()}).prototype={useXDomainRequest:!1,_request:null,_failed:!1,isReady:function(){return 2<=this._request.readyState},isDone:function(){return 4==this._request.readyState},hasError:function(){return this._failed||400<=this._request.status},getBuffer:function(){var t="";try{t=this._request.responseText||""}catch(t){}return t},abort:function(){this._request&&this._request.abort()}};t[e]=r}}(this)},{}],3:[function(t,e,r){"use strict";var o=t("is-callable"),i=Object.prototype.toString,s=Object.prototype.hasOwnProperty;e.exports=function(t,e,r){if(!o(e))throw new TypeError("iterator must be a function");var n;3<=arguments.length&&(n=r),"[object Array]"===i.call(t)?function(t,e,r){for(var n=0,o=t.length;n<o;n++)s.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,n):"string"==typeof t?function(t,e,r){for(var n=0,o=t.length;n<o;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)}(t,e,n):function(t,e,r){for(var n in t)s.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,n)}},{"is-callable":17}],4:[function(t,e,r){e.exports=t("./lib-node")},{"./lib-node":5}],5:[function(t,e,r){"use strict";var c=t("nano-pubsub"),l=t("./util/middlewareReducer"),o=t("./middleware/defaultOptionsProcessor"),i=t("./middleware/defaultOptionsValidator"),f=t("./request"),p=["request","response","progress","error","abort"],s=["processOptions","validateOptions","interceptRequest","onRequest","onResponse","onError","onReturn","onHeaders"];e.exports=function t(){function r(t){var i=p.reduce(function(t,e){return t[e]=c(),t},{}),s=l(u),e=s("processOptions",t);s("validateOptions",e);var r={options:e,channels:i,applyMiddleware:s},n=null,o=i.request.subscribe(function(r){n=f(r,function(t,e){return function(t,e,r){var n=t,o=e;if(!n)try{o=s("onResponse",e,r)}catch(t){o=null,n=t}(n=n&&s("onError",n,r))?i.error.publish(n):o&&i.response.publish(o)}(t,e,r)})});i.abort.subscribe(function(){o(),n&&n.abort()});var a=s("onReturn",i,r);return a===i&&i.request.publish(r),a}var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=[],u=s.reduce(function(t,e){return t[e]=t[e]||[],t},{processOptions:[o],validateOptions:[i]});return r.use=function(e){if(!e)throw new Error("Tried to add middleware that resolved to falsey value");if("function"==typeof e)throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(e.onReturn&&0<u.onReturn.length)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return s.forEach(function(t){e[t]&&u[t].push(e[t])}),n.push(e),r},r.clone=function(){return t(n)},e.forEach(r.use),r}},{"./middleware/defaultOptionsProcessor":6,"./middleware/defaultOptionsValidator":7,"./request":14,"./util/middlewareReducer":16,"nano-pubsub":22}],6:[function(t,e,r){"use strict";function n(t){function r(e,t){Array.isArray(t)?t.forEach(function(t){return r(e,t)}):n.push([e,t].map(encodeURIComponent).join("="))}var n=[];for(var e in t)a.call(t,e)&&r(e,t[e]);return n.length?n.join("&"):""}var o=t("object-assign"),i=t("url-parse"),s="undefined"!=typeof navigator&&"ReactNative"===navigator.product,a=Object.prototype.hasOwnProperty,u={timeout:s?6e4:12e4};e.exports=function(t){var e="string"==typeof t?o({url:t},u):o({},u,t),r=i(e.url,{},!0);return e.timeout=function t(e){if(!1===e||0===e)return!1;if(e.connect||e.socket)return e;var r=Number(e);return isNaN(r)?t(u.timeout):{connect:r,socket:r}}(e.timeout),e.query&&(r.query=o({},r.query,function(t){var e={};for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}(e.query))),e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e.url=r.toString(n),e}},{"object-assign":23,"url-parse":56}],7:[function(t,e,r){"use strict";var n=/^https?:\/\//i;e.exports=function(t){if(!n.test(t.url))throw new Error('"'+t.url+'" is not a valid URL')}},{}],8:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("object-assign"),i=t("is-plain-object"),s=["boolean","string","number"];e.exports=function(){return{processOptions:function(t){var e,r=t.body;return r?"function"==typeof r.pipe||(e=r).constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)||-1===s.indexOf(void 0===r?"undefined":n(r))&&!Array.isArray(r)&&!i(r)?t:o({},t,{body:JSON.stringify(t.body),headers:o({},t.headers,{"Content-Type":"application/json"})}):t}}}},{"is-plain-object":19,"object-assign":23}],9:[function(t,e,r){"use strict";var o=t("object-assign");e.exports=function(n){return{onResponse:function(t){var e=t.headers["content-type"]||"",r=n&&n.force||-1!==e.indexOf("application/json");return t.body&&e&&r?o({},t,{body:function(t){try{return JSON.parse(t)}catch(t){throw t.message="Failed to parsed response body as JSON: "+t.message,t}}(t.body)}):t},processOptions:function(t){return o({},t,{headers:o({Accept:"application/json"},t.headers)})}}}},{"object-assign":23}],10:[function(t,e,r){"use strict";var n=t("../util/global"),o=t("object-assign");e.exports=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).implementation||n.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:function(t,r){return new e(function(e){return t.error.subscribe(function(t){return e.error(t)}),t.progress.subscribe(function(t){return e.next(o({type:"progress"},t))}),t.response.subscribe(function(t){e.next(o({type:"response"},t)),e.complete()}),t.request.publish(r),function(){return t.abort.publish()}})}}}},{"../util/global":15,"object-assign":23}],11:[function(t,e,r){"use strict";e.exports=function(){return{onRequest:function(t){function e(r){return function(t){var e=t.lengthComputable?t.loaded/t.total*100:-1;n.channels.progress.publish({stage:r,percent:e,total:t.total,loaded:t.loaded,lengthComputable:t.lengthComputable})}}if("xhr"===t.adapter){var r=t.request,n=t.context;"upload"in r&&"onprogress"in r.upload&&(r.upload.onprogress=e("upload")),"onprogress"in r&&(r.onprogress=e("download"))}}}}},{}],12:[function(t,e,r){"use strict";e.exports=t("./node-progress")},{"./node-progress":11}],13:[function(t,e,r){"use strict";var m=t("same-origin"),w=t("parse-headers"),_=window,O=_.XMLHttpRequest||function(){},E="withCredentials"in new O?O:_.XDomainRequest;e.exports=function(r,e){function t(t){y=!0,f.abort();var e=new Error("ESOCKETTIMEDOUT"===t?"Socket timed out on request to "+s.url:"Connection timed out on request to "+s.url);e.code=t,r.channels.error.publish(e)}function n(){(d||2<=f.readyState&&a.connect)&&clearTimeout(a.connect),a.socket&&clearTimeout(a.socket)}function o(){if(!b){n(),b=!0,f=null;var t=new Error("Network error while attempting to reach "+s.url);t.isNetworkError=!0,t.request=s,e(t)}}function i(){if(!(d||b||y)){if(0===f.status)return void o(new Error("Unknown XHR error"));n(),b=!0,e(null,function(){var t=f.status,e=f.statusText;if(p&&void 0===t)t=200;else{if(12e3<t&&t<12156)return o();t=1223===f.status?204:f.status,e=1223===f.status?"No Content":e}return{body:f.response||f.responseText,url:s.url,method:s.method,headers:p?{}:w(f.getAllResponseHeaders()),statusCode:t,statusMessage:e}}())}}var s=r.options,a={},u=_&&_.location&&!m(_.location.href,s.url),c=r.applyMiddleware("interceptRequest",void 0,{adapter:"xhr",context:r});if(c){var l=setTimeout(e,0,null,c);return{abort:function(){return clearTimeout(l)}}}var f=u?new E:new O,p=_.XDomainRequest&&f instanceof _.XDomainRequest,h=s.headers,d=!1,b=!1,y=!1;if(f.onerror=o,f.ontimeout=o,f.onabort=function(){d=!0},f.onprogress=function(){},f[p?"onload":"onreadystatechange"]=function(){g&&(n(),a.socket=setTimeout(function(){return t("ESOCKETTIMEDOUT")},g.socket)),d||4!==f.readyState&&!p||0!==f.status&&i()},f.open(s.method,s.url,!0),f.withCredentials=!!s.withCredentials,h&&f.setRequestHeader)for(var v in h)h.hasOwnProperty(v)&&f.setRequestHeader(v,h[v]);else if(h&&p)throw new Error("Headers cannot be set on an XDomainRequest object");s.rawBody&&(f.responseType="arraybuffer"),r.applyMiddleware("onRequest",{options:s,adapter:"xhr",request:f,context:r}),f.send(s.body||null);var g=s.timeout;return g&&(a.connect=setTimeout(function(){return t("ETIMEDOUT")},g.connect)),{abort:function(){d=!0,f&&f.abort()}}}},{"parse-headers":24,"same-origin":53}],14:[function(t,e,r){"use strict";e.exports=t("./node-request")},{"./node-request":13}],15:[function(t,e,r){(function(t){"use strict";"undefined"!=typeof window?e.exports=window:void 0!==t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(t,e,r){"use strict";e.exports=function(i){return function(t,e){for(var r=arguments.length,n=Array(2<r?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return i[t].reduce(function(t,e){return e.apply(void 0,[t].concat(n))},e)}}},{}],17:[function(t,e,r){"use strict";var n=Function.prototype.toString,o=/^\s*class\b/,i=function(t){try{var e=n.call(t);return o.test(e)}catch(t){return!1}},s=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(a)return function(t){try{return!i(t)&&(n.call(t),!0)}catch(t){return!1}}(t);if(i(t))return!1;var e=s.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},{}],18:[function(t,e,r){"use strict";e.exports=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}},{}],19:[function(t,e,r){"use strict";function n(t){return!0===o(t)&&"[object Object]"===Object.prototype.toString.call(t)}var o=t("isobject");e.exports=function(t){var e,r;return!1!==n(t)&&"function"==typeof(e=t.constructor)&&(!1!==n(r=e.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}},{isobject:20}],20:[function(t,e,r){"use strict";e.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},{}],21:[function(t,e,r){"use strict";function o(t){void 0!==t&&n(this,"message",{configurable:!0,value:t,writable:!0});var e=this.constructor.name;void 0!==e&&e!==this.name&&n(this,"name",{configurable:!0,value:e,writable:!0}),s(this,this.constructor)}var i="undefined"!=typeof Reflect?Reflect.construct:void 0,n=Object.defineProperty,s=Error.captureStackTrace;void 0===s&&(s=function(e){var r=new Error;n(e,"stack",{configurable:!0,get:function(){var t=r.stack;return n(this,"stack",{configurable:!0,value:t,writable:!0}),t},set:function(t){n(e,"stack",{configurable:!0,value:t,writable:!0})}})}),o.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:o,writable:!0}});var a=function(){function t(t,e){return n(t,"name",{configurable:!0,value:e})}try{var e=function(){};if(t(e,"foo"),"foo"===e.name)return t}catch(t){}}();(e.exports=function(t,e){if(null==e||e===Error)e=o;else if("function"!=typeof e)throw new TypeError("super_ should be a function");var r;if("string"==typeof t)r=t,t=void 0!==i?function(){return i(e,arguments,this.constructor)}:function(){e.apply(this,arguments)},void 0!==a&&(a(t,r),r=void 0);else if("function"!=typeof t)throw new TypeError("constructor should be either a string or a function");t.super_=t.super=e;var n={constructor:{configurable:!0,value:t,writable:!0}};return void 0!==r&&(n.name={configurable:!0,value:r,writable:!0}),t.prototype=Object.create(e.prototype,n),t}).BaseError=o},{}],22:[function(t,e,r){e.exports=function(){var r=[];return{subscribe:function(e){return r.push(e),function(){var t=r.indexOf(e);-1<t&&r.splice(t,1)}},publish:function(){for(var t=0;t<r.length;t++)r[t].apply(null,arguments)}}}},{}],23:[function(t,e,r){"use strict";var u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,n,o=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),i=1;i<arguments.length;i++){for(var s in r=Object(arguments[i]))c.call(r,s)&&(o[s]=r[s]);if(u){n=u(r);for(var a=0;a<n.length;a++)l.call(r,n[a])&&(o[n[a]]=r[n[a]])}}return o}},{}],24:[function(t,e,r){var s=t("trim"),n=t("for-each");e.exports=function(t){if(!t)return{};var i={};return n(s(t).split("\n"),function(t){var e,r=t.indexOf(":"),n=s(t.slice(0,r)).toLowerCase(),o=s(t.slice(r+1));void 0===i[n]?i[n]=o:(e=i[n],"[object Array]"===Object.prototype.toString.call(e)?i[n].push(o):i[n]=[i[n],o])}),i}},{"for-each":3,trim:55}],25:[function(t,e,r){"use strict";function s(t){return decodeURIComponent(t.replace(/\+/g," "))}var o=Object.prototype.hasOwnProperty;r.stringify=function(t,e){e=e||"";var r=[];for(var n in"string"!=typeof e&&(e="?"),t)o.call(t,n)&&r.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return r.length?e+r.join("&"):""},r.parse=function(t){for(var e,r=/([^=?&]+)=?([^&]*)/g,n={};e=r.exec(t);){var o=s(e[1]),i=s(e[2]);o in n||(n[o]=i)}return n}},{}],26:[function(t,e,r){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],27:[function(t,e,r){"use strict";function i(t){if(t||(t=u.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}Object.defineProperty(r,"__esModule",{value:!0});var n=t("./util/canReportError"),s=t("./util/toSubscriber"),o=t("../internal/symbol/observable"),a=t("./util/pipe"),u=t("./config"),c=function(){function r(t){this._isScalar=!1,t&&(this._subscribe=t)}return r.prototype.lift=function(t){var e=new r;return e.source=this,e.operator=t,e},r.prototype.subscribe=function(t,e,r){var n=this.operator,o=s.toSubscriber(t,e,r);if(n?n.call(o,this.source):o.add(this.source||u.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),u.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){u.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),n.canReportError(e)?e.error(t):console.warn(t)}},r.prototype.forEach=function(n,t){var o=this;return new(t=i(t))(function(t,e){var r;r=o.subscribe(function(t){try{n(t)}catch(t){e(t),r&&r.unsubscribe()}},e,t)})},r.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},r.prototype[o.observable]=function(){return this},r.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:a.pipeFromArray(t)(this)},r.prototype.toPromise=function(t){var n=this;return new(t=i(t))(function(t,e){var r;n.subscribe(function(t){return r=t},function(t){return e(t)},function(){return t(r)})})},r.create=function(t){return new r(t)},r}();r.Observable=c},{"../internal/symbol/observable":39,"./config":31,"./util/canReportError":43,"./util/pipe":50,"./util/toSubscriber":51}],28:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./config"),o=t("./util/hostReportError");r.empty={closed:!0,next:function(t){},error:function(t){if(n.config.useDeprecatedSynchronousErrorHandling)throw t;o.hostReportError(t)},complete:function(){}}},{"./config":31,"./util/hostReportError":45}],29:[function(t,e,r){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var u=t("./util/isFunction"),c=t("./Observer"),o=t("./Subscription"),a=t("../internal/symbol/rxSubscriber"),i=t("./config"),l=t("./util/hostReportError"),f=function(o){function i(t,e,r){var n=o.call(this)||this;switch(n.syncErrorValue=null,n.syncErrorThrown=!1,n.syncErrorThrowable=!1,n.isStopped=!1,n._parentSubscription=null,arguments.length){case 0:n.destination=c.empty;break;case 1:if(!t){n.destination=c.empty;break}if("object"==typeof t){t instanceof i?(n.syncErrorThrowable=t.syncErrorThrowable,(n.destination=t).add(n)):(n.syncErrorThrowable=!0,n.destination=new p(n,t));break}default:n.syncErrorThrowable=!0,n.destination=new p(n,t,e,r)}return n}return s(i,o),i.prototype[a.rxSubscriber]=function(){return this},i.create=function(t,e,r){var n=new i(t,e,r);return n.syncErrorThrowable=!1,n},i.prototype.next=function(t){this.isStopped||this._next(t)},i.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},i.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},i.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,o.prototype.unsubscribe.call(this))},i.prototype._next=function(t){this.destination.next(t)},i.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},i.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},i.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},i}(o.Subscription),p=function(a){function t(t,e,r,n){var o=a.call(this)||this;o._parentSubscriber=t;var i,s=o;return u.isFunction(e)?i=e:e&&(i=e.next,r=e.error,n=e.complete,e!==c.empty&&(s=Object.create(e),u.isFunction(s.unsubscribe)&&o.add(s.unsubscribe.bind(s)),s.unsubscribe=o.unsubscribe.bind(o))),o._context=s,o._next=i,o._error=r,o._complete=n,o}return s(t,a),t.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;i.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},t.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=i.config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?this.__tryOrSetError(e,this._error,t):this.__tryOrUnsub(this._error,t),this.unsubscribe();else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):l.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;l.hostReportError(t)}}},t.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};i.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,r):this.__tryOrUnsub(r),this.unsubscribe()}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),i.config.useDeprecatedSynchronousErrorHandling)throw t;l.hostReportError(t)}},t.prototype.__tryOrSetError=function(t,e,r){if(!i.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return i.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0):l.hostReportError(e),!0}return!1},t.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},t}(r.Subscriber=f);r.SafeSubscriber=p},{"../internal/symbol/rxSubscriber":40,"./Observer":28,"./Subscription":30,"./config":31,"./util/hostReportError":45,"./util/isFunction":47}],30:[function(t,e,r){"use strict";function l(t){return t.reduce(function(t,e){return t.concat(e instanceof y.UnsubscriptionError?e.errors:e)},[])}Object.defineProperty(r,"__esModule",{value:!0});var f=t("./util/isArray"),p=t("./util/isObject"),h=t("./util/isFunction"),d=t("./util/tryCatch"),b=t("./util/errorObject"),y=t("./util/UnsubscriptionError"),n=function(){function n(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return n.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var r=this._parent,n=this._parents,o=this._unsubscribe,i=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,a=n?n.length:0;r;)r.remove(this),r=++s<a&&n[s]||null;if(h.isFunction(o))d.tryCatch(o).call(this)===b.errorObject&&(e=!0,t=t||(b.errorObject.e instanceof y.UnsubscriptionError?l(b.errorObject.e.errors):[b.errorObject.e]));if(f.isArray(i))for(s=-1,a=i.length;++s<a;){var u=i[s];if(p.isObject(u))if(d.tryCatch(u.unsubscribe).call(u)===b.errorObject){e=!0,t=t||[];var c=b.errorObject.e;c instanceof y.UnsubscriptionError?t=t.concat(l(c.errors)):t.push(c)}}if(e)throw new y.UnsubscriptionError(t)}},n.prototype.add=function(t){if(!t||t===n.EMPTY)return n.EMPTY;if(t===this)return this;var e=t;switch(typeof t){case"function":e=new n(t);case"object":if(e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if("function"!=typeof e._addParent){var r=e;(e=new n)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(e),e._addParent(this),e},n.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},n.prototype._addParent=function(t){var e=this._parent,r=this._parents;e&&e!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},n.EMPTY=((t=new n).closed=!0,t),n;var t}();r.Subscription=n},{"./util/UnsubscriptionError":42,"./util/errorObject":44,"./util/isArray":46,"./util/isFunction":47,"./util/isObject":48,"./util/tryCatch":52}],31:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=!1;r.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},{}],32:[function(t,e,r){"use strict";function n(e){return new o.Observable(function(t){return e.schedule(function(){return t.complete()})})}Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Observable");r.EMPTY=new o.Observable(function(t){return t.complete()}),r.empty=function(t){return t?n(t):r.EMPTY},r.emptyScheduled=n},{"../Observable":27}],33:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber");r.defaultIfEmpty=function(e){return void 0===e&&(e=null),function(t){return t.lift(new s(e))}};var s=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.defaultValue))},t}(),a=function(n){function t(t,e){var r=n.call(this,t)||this;return r.defaultValue=e,r.isEmpty=!0,r}return o(t,n),t.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(i.Subscriber)},{"../Subscriber":29}],34:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.filter=function(e,r){return function(t){return t.lift(new s(e,r))}};var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(o){function t(t,e,r){var n=o.call(this,t)||this;return n.predicate=e,n.thisArg=r,n.count=0,n}return i(t,o),t.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},t}(o.Subscriber)},{"../Subscriber":29}],35:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.map=function(e,r){return function(t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return t.lift(new s(e,r))}};var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}();r.MapOperator=s;var a=function(o){function t(t,e,r){var n=o.call(this,t)||this;return n.project=e,n.count=0,n.thisArg=r||n,n}return i(t,o),t.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t}(o.Subscriber)},{"../Subscriber":29}],36:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("./scan"),i=t("./takeLast"),s=t("./defaultIfEmpty"),a=t("../util/pipe");r.reduce=function(n,e){return 2<=arguments.length?function(t){return a.pipe(o.scan(n,e),i.takeLast(1),s.defaultIfEmpty(e))(t)}:function(t){return a.pipe(o.scan(function(t,e,r){return n(t,e,r+1)}),i.takeLast(1))(t)}}},{"../util/pipe":50,"./defaultIfEmpty":33,"./scan":37,"./takeLast":38}],37:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber");r.scan=function(e,r){var n=!1;return 2<=arguments.length&&(n=!0),function(t){return t.lift(new s(e,r,n))}};var s=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}(),a=function(i){function t(t,e,r,n){var o=i.call(this,t)||this;return o.accumulator=e,o._seed=r,o.hasSeed=n,o.index=0,o}return o(t,i),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),t.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},t.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},t}(i.Subscriber)},{"../Subscriber":29}],38:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),s=t("../util/ArgumentOutOfRangeError"),a=t("../observable/empty");r.takeLast=function(e){return function(t){return 0===e?a.empty():t.lift(new u(e))}};var u=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(n){function t(t,e){var r=n.call(this,t)||this;return r.total=e,r.ring=new Array,r.count=0,r}return o(t,n),t.prototype._next=function(t){var e=this.ring,r=this.total,n=this.count++;e.length<r?e.push(t):e[n%r]=t},t.prototype._complete=function(){var t=this.destination,e=this.count;if(0<e)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,o=0;o<r;o++){var i=e++%r;t.next(n[i])}t.complete()},t}(i.Subscriber)},{"../Subscriber":29,"../observable/empty":32,"../util/ArgumentOutOfRangeError":41}],39:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},{}],40:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),r.$$rxSubscriber=r.rxSubscriber},{}],41:[function(t,e,r){"use strict";function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Object.defineProperty(r,"__esModule",{value:!0}),n.prototype=Object.create(Error.prototype),r.ArgumentOutOfRangeError=n},{}],42:[function(t,e,r){"use strict";function n(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}Object.defineProperty(r,"__esModule",{value:!0}),n.prototype=Object.create(Error.prototype),r.UnsubscriptionError=n},{}],43:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber");r.canReportError=function(t){for(;t;){var e=t,r=e.closed,n=e.destination,o=e.isStopped;if(r||o)return!1;t=n&&n instanceof i.Subscriber?n:null}return!0}},{"../Subscriber":29}],44:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.errorObject={e:{}}},{}],45:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hostReportError=function(t){setTimeout(function(){throw t})}},{}],46:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},{}],47:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isFunction=function(t){return"function"==typeof t}},{}],48:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isObject=function(t){return null!=t&&"object"==typeof t}},{}],49:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.noop=function(){}},{}],50:[function(t,e,r){"use strict";function n(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(t,e){return e(t)},t)}:o.noop}Object.defineProperty(r,"__esModule",{value:!0});var o=t("./noop");r.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n(t)},r.pipeFromArray=n},{"./noop":49}],51:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Subscriber"),o=t("../symbol/rxSubscriber"),i=t("../Observer");r.toSubscriber=function(t,e,r){if(t){if(t instanceof n.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||e||r?new n.Subscriber(t,e,r):new n.Subscriber(i.empty)}},{"../Observer":28,"../Subscriber":29,"../symbol/rxSubscriber":40}],52:[function(t,e,r){"use strict";function n(){try{return o.apply(this,arguments)}catch(t){return i.errorObject.e=t,i.errorObject}}Object.defineProperty(r,"__esModule",{value:!0});var o,i=t("./errorObject");r.tryCatch=function(t){return o=t,n}},{"./errorObject":44}],53:[function(t,e,r){"use strict";var u=t("url");e.exports=function(t,e,r){if(t===e)return!0;var n=u.parse(t,!1,!0),o=u.parse(e,!1,!0),i=0|n.port||("https"===n.protocol?443:80),s=0|o.port||("https"===o.protocol?443:80),a={proto:n.protocol===o.protocol,hostname:n.hostname===o.hostname,port:i===s};return a.proto&&a.hostname&&(a.port||r)}},{url:54}],54:[function(t,e,r){"use strict";var n=/^(?:(?:(?:([^:\/#\?]+:)?(?:(?:\/\/)((?:((?:[^:@\/#\?]+)(?:\:(?:[^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/;e.exports={regex:n,parse:function(t){var e=n.exec(t);return e?{protocol:(e[1]||"").toLowerCase()||void 0,hostname:(e[5]||"").toLowerCase()||void 0,port:e[6]||void 0}:{}}}},{}],55:[function(t,e,r){(r=e.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},r.right=function(t){return t.replace(/\s*$/,"")}},{}],56:[function(t,e,r){(function(i){"use strict";function h(t){var e,r=i&&i.location||{},n={},o=typeof(t=t||r);if("blob:"===t.protocol)n=new b(unescape(t.pathname),{});else if("string"===o)for(e in n=new b(t,{}),a)delete n[e];else if("object"===o){for(e in t)e in a||(n[e]=t[e]);void 0===n.slashes&&(n.slashes=s.test(t.href))}return n}function d(t){var e=r.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function b(t,e,r){if(!(this instanceof b))return new b(t,e,r);var n,o,i,s,a,u,c=g.slice(),l=typeof e,f=this,p=0;for("object"!==l&&"string"!==l&&(r=e,e=null),r&&"function"!=typeof r&&(r=v.parse),e=h(e),n=!(o=d(t||"")).protocol&&!o.slashes,f.slashes=o.slashes||n&&e.slashes,f.protocol=o.protocol||e.protocol||"",t=o.rest,o.slashes||(c[3]=[/(.*)/,"pathname"]);p<c.length;p++)"function"!=typeof(s=c[p])?(i=s[0],u=s[1],i!=i?f[u]=t:"string"==typeof i?~(a=t.indexOf(i))&&(t="number"==typeof s[2]?(f[u]=t.slice(0,a),t.slice(a+s[2])):(f[u]=t.slice(a),t.slice(0,a))):(a=i.exec(t))&&(f[u]=a[1],t=t.slice(0,a.index)),f[u]=f[u]||n&&s[3]&&e[u]||"",s[4]&&(f[u]=f[u].toLowerCase())):t=s(t);r&&(f.query=r(f.query)),n&&e.slashes&&"/"!==f.pathname.charAt(0)&&(""!==f.pathname||""!==e.pathname)&&(f.pathname=function(t,e){for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,o=r[n-1],i=!1,s=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),s++):s&&(0===n&&(i=!0),r.splice(n,1),s--);return i&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}(f.pathname,e.pathname)),y(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(s=f.auth.split(":"),f.username=s[0]||"",f.password=s[1]||""),f.origin=f.protocol&&f.host&&"file:"!==f.protocol?f.protocol+"//"+f.host:"null",f.href=f.toString()}var y=t("requires-port"),v=t("querystringify"),r=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,g=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],a={hash:1,query:1};b.prototype={set:function(t,e,r){var n=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(r||v.parse)(e)),n[t]=e;break;case"port":n[t]=e,y(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,/:\d+$/.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var o="pathname"===t?"/":"#";n[t]=e.charAt(0)!==o?o+e:e}else n[t]=e;break;default:n[t]=e}for(var i=0;i<g.length;i++){var s=g[i];s[4]&&(n[s[1]]=n[s[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n},toString:function(t){t&&"function"==typeof t||(t=v.stringify);var e,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var o=n+(r.slashes?"//":"");return r.username&&(o+=r.username,r.password&&(o+=":"+r.password),o+="@"),o+=r.host+r.pathname,(e="object"==typeof r.query?t(r.query):r.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),r.hash&&(o+=r.hash),o}},b.extractProtocol=d,b.location=h,b.qs=v,e.exports=b}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:25,"requires-port":26}],57:[function(t,e,r){"use strict";function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function n(t){this.client=t}var p=t("object-assign"),h=t("@sanity/observable/operators/map").map,d=t("@sanity/observable/operators/filter").filter,b=t("../http/queryString"),y=t("../validators");p(n.prototype,{upload:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};y.validateAssetType(t);var n=r.extract||void 0;n&&!n.length&&(n=["none"]);var o,i,s=y.hasDataset(this.client.clientConfig),a="image"===t?"images":"files",u=(o=r,i=e,"undefined"!=typeof window&&i instanceof window.File?p({filename:!1===o.preserveFilename?void 0:i.name,contentType:i.type},o):o),c={label:u.label,filename:u.filename,meta:n},l=this.client._requestObservable({method:"POST",timeout:u.timeout||0,uri:"/assets/".concat(a,"/").concat(s),headers:u.contentType?{"Content-Type":u.contentType}:{},query:c,body:e});return this.client.isPromiseAPI()?l.pipe(d(function(t){return"response"===t.type}),h(function(t){return e=t.body,r=e.document,Object.defineProperty(r,"document",{enumerable:!1,get:function(){return console.warn("The promise returned from client.asset.upload(...) now resolves with the asset document"),r}}),r;var e,r})).toPromise():l},delete:function(t,e){console.warn("client.assets.delete() is deprecated, please use client.delete(<document-id>)");var r=e||"";return/^(image|file)-/.test(r)?t._id&&(r=t._id):r="".concat(t,"-").concat(r),y.hasDataset(this.client.clientConfig),this.client.delete(r)},getImageUrl:function(t,e){var r=t._ref||t;if("string"!=typeof r)throw new Error("getImageUrl() needs either an object with a _ref, or a string with an asset document ID");if(!/^image-[A-Za-z0-9_]+-\d+x\d+-[a-z]{1,5}$/.test(r))throw new Error('Unsupported asset ID "'.concat(r,'". URL generation only works for auto-generated IDs.'));var n=f(r.split("-"),4),o=n[1],i=n[2],s=n[3];y.hasDataset(this.client.clientConfig);var a=this.client.clientConfig,u=a.projectId,c=a.dataset,l=e?b(e):"";return"https://cdn.sanity.io/images/".concat(u,"/").concat(c,"/").concat(o,"-").concat(i,".").concat(s).concat(l)}}),e.exports=n},{"../http/queryString":68,"../validators":78,"@sanity/observable/operators/filter":83,"@sanity/observable/operators/map":84,"object-assign":23}],58:[function(t,e,r){"use strict";function n(t){this.client=t}t("object-assign")(n.prototype,{getLoginProviders:function(){return this.client.request({uri:"/auth/providers"})},logout:function(){return this.client.request({uri:"/auth/logout",method:"POST"})}}),e.exports=n},{"object-assign":23}],59:[function(t,e,r){"use strict";var n,l=t("@sanity/generate-help-url"),f=t("object-assign"),p=t("./validators"),h={apiHost:"https://api.sanity.io",useProjectHostname:!0,gradientMode:!1,isPromiseAPI:!0},o=["You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and","cheaper. Think about it! For more info, see ".concat(l("js-client-cdn-configuration"),"."),"To hide this warning, please set the `useCdn` option to either `true` or `false` when creating","the client."],d=(n=!1,function(){n||(console.warn(o.join(" ")),n=!0)});r.defaultConfig=h,r.initConfig=function(t,e){var r=f({},h,e,t),n=r.gradientMode,o=!n&&r.useProjectHostname;if("undefined"==typeof Promise){var i=l("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(i))}if(n&&!r.namespace)throw new Error("Configuration must contain `namespace` when running in gradient mode");if(o&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(void 0===r.useCdn&&d(),o&&p.projectId(r.projectId),!n&&r.dataset&&p.dataset(r.dataset,r.gradientMode),r.isDefaultApi=r.apiHost===h.apiHost,r.useCdn=Boolean(r.useCdn)&&!r.token&&!r.withCredentials,r.gradientMode)r.url=r.apiHost,r.cdnUrl=r.apiHost;else{var s=r.apiHost.split("://",2),a=s[0],u=s[1],c=r.isDefaultApi?"apicdn.sanity.io":u;r.useProjectHostname?(r.url="".concat(a,"://").concat(r.projectId,".").concat(u,"/v1"),r.cdnUrl="".concat(a,"://").concat(r.projectId,".").concat(c,"/v1")):(r.url="".concat(r.apiHost,"/v1"),r.cdnUrl=r.url)}return r}},{"./validators":78,"@sanity/generate-help-url":80,"object-assign":23}],60:[function(t,e,r){"use strict";function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i=t("object-assign"),l=t("@sanity/observable/operators/filter").filter,f=t("@sanity/observable/operators/map").map,s=t("../validators"),n=t("../util/getSelection"),p=t("./encodeQueryString"),a=t("./transaction"),u=t("./patch"),o=t("./listen"),h=function(t){return"response"===t.type},d=function(t){return t.body},b=function(t){return t.toPromise()};e.exports={listen:o,getDataUrl:function(t,e){var r=this.clientConfig,n=r.gradientMode?r.namespace:s.hasDataset(r),o="/".concat(t,"/").concat(n),i=e?"".concat(o,"/").concat(e):o;return(this.clientConfig.gradientMode?i:"/data".concat(i)).replace(/\/($|\?)/,"$1")},fetch:function(t,e){var r=!1===(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).filterResponse?function(t){return t}:function(t){return t.result},n=this._dataRequest("query",{query:t,params:e}).pipe(f(r));return this.isPromiseAPI()?b(n):n},getDocument:function(t){var e={uri:this.getDataUrl("doc",t),json:!0},r=this._requestObservable(e).pipe(l(h),f(function(t){return t.body.documents&&t.body.documents[0]}));return this.isPromiseAPI()?b(r):r},create:function(t,e){return this._create(t,"create",e)},createIfNotExists:function(t,e){return s.requireDocumentId("createIfNotExists",t),this._create(t,"createIfNotExists",e)},createOrReplace:function(t,e){return s.requireDocumentId("createOrReplace",t),this._create(t,"createOrReplace",e)},patch:function(t,e){return new u(t,e,this)},delete:function(t,e){return this.dataRequest("mutate",{mutations:[{delete:n(t)}]},e)},mutate:function(t,e){var r=t instanceof u||t instanceof a?t.serialize():t,n=Array.isArray(r)?r:[r],o=e&&e.transactionId;return this.dataRequest("mutate",{mutations:n,transactionId:o},e)},transaction:function(t){return new a(t,this)},dataRequest:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=this._dataRequest(t,e,r);return this.isPromiseAPI()?b(n):n},_dataRequest:function(t,e){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i="mutate"===t,r=!i&&p(e),n=!i&&r.length<11264,s=n?r:"",a=o.returnFirst,u={method:n?"GET":"POST",uri:this.getDataUrl(t,s),json:!0,body:n?void 0:e,query:i&&function(){var t,e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{returnIds:!0,returnDocuments:(t=r.returnDocuments,e=!0,!1===t?void 0:void 0===t?e:t),visibility:r.visibility||"sync"}}(o)};return this._requestObservable(u).pipe(l(h),f(d),f(function(t){if(!i)return t;var e=t.results||[];if(o.returnDocuments)return a?e[0]&&e[0].document:e.map(function(t){return t.document});var r=a?"documentId":"documentIds",n=a?e[0]&&e[0].id:e.map(function(t){return t.id});return c({transactionId:t.transactionId,results:e},r,n)}))},_create:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=c({},e,t),o=i({returnFirst:!0,returnDocuments:!0},r);return this.dataRequest("mutate",{mutations:[n]},o)}}},{"../util/getSelection":75,"../validators":78,"./encodeQueryString":61,"./listen":62,"./patch":63,"./transaction":64,"@sanity/observable/operators/filter":83,"@sanity/observable/operators/map":84,"object-assign":23}],61:[function(t,e,r){"use strict";var u=encodeURIComponent;e.exports=function(t){var e=t.query,r=t.params,n=void 0===r?{}:r,o=t.options,i=void 0===o?{}:o,s="?query=".concat(u(e)),a=Object.keys(n).reduce(function(t,e){return"".concat(t,"&").concat(u("$".concat(e)),"=").concat(u(JSON.stringify(n[e])))},s);return Object.keys(i).reduce(function(t,e){return i[e]?"".concat(t,"&").concat(u(e),"=").concat(u(i[e])):t},a)}},{}],62:[function(t,e,r){"use strict";function b(t){try{var e=t.data&&JSON.parse(t.data)||{};return n({type:t.type},e)}catch(t){return t}}function y(t){if(t instanceof Error)return t;var e,r=b(t);return r instanceof Error?r:new Error((e=r).error?e.error.description?e.error.description:"string"==typeof e.error?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error")}var n=t("object-assign"),l=t("@sanity/observable/minimal"),o=t("@sanity/eventsource"),v=t("../util/pick"),g=t("../util/defaults"),m=t("./encodeQueryString"),i=t("@sanity/generate-help-url"),s=t("../util/once"),a=["Using token with listeners is not supported in browsers. ","For more info, see ".concat(i("js-client-listener-tokens-browser"),".")],w=s(function(){return console.warn(a.join(" "))}),_=Boolean("undefined"!=typeof window&&window.EventSource),O=_?window.EventSource:o,E=["includePreviousRevision","includeResult"],j={includeResult:!0};e.exports=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=g(r,j),o=v(n,E),i=m({query:t,params:e,options:o}),s=this.clientConfig,a=s.url,u=s.token,c=s.withCredentials,f="".concat(a).concat(this.getDataUrl("listen",i)),p=n.events?n.events:["mutation"],h=-1!==p.indexOf("reconnect");u&&_&&w();var d={};return(u||c)&&(d.withCredentials=!0),u&&(d.headers={Authorization:"Bearer ".concat(u)}),new l(function(r){function t(){l||(h&&r.next({type:"reconnect"}),l||c.readyState===O.CLOSED&&(e(),clearTimeout(u),u=setTimeout(a,100)))}function n(t){r.error(y(t))}function o(t){var e=b(t);return e instanceof Error?r.error(e):r.next(e)}function i(t){l=!0,e(),r.complete()}function e(){c.removeEventListener("error",t,!1),c.removeEventListener("channelError",n,!1),c.removeEventListener("disconnect",i,!1),p.forEach(function(t){return c.removeEventListener(t,o,!1)}),c.close()}function s(){var e=new O(f,d);return e.addEventListener("error",t,!1),e.addEventListener("channelError",n,!1),e.addEventListener("disconnect",i,!1),p.forEach(function(t){return e.addEventListener(t,o,!1)}),e}function a(){c=s()}var u,c=s(),l=!1;return function(){l=!0,e()}})}},{"../util/defaults":74,"../util/once":76,"../util/pick":77,"./encodeQueryString":61,"@sanity/eventsource":79,"@sanity/generate-help-url":80,"@sanity/observable/minimal":82,"object-assign":23}],63:[function(t,e,r){"use strict";function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this.selection=t,this.operations=s({},e),this.client=r}var i=t("deep-assign"),s=t("object-assign"),a=t("../util/getSelection"),u=t("../validators"),c=u.validateObject,l=u.validateInsert;s(n.prototype,{clone:function(){return new n(this.selection,s({},this.operations),this.client)},merge:function(t){c("merge",t);var e=(new Error).stack.toString().split("\n").filter(function(t){return t.trim()}).slice(2);return console.warn('The "merge" patch has been deprecated and will be removed in the future\n'.concat(e.join("\n"))),this._assign("merge",i(this.operations.merge||{},t))},set:function(t){return this._assign("set",t)},diffMatchPatch:function(t){return c("diffMatchPatch",t),this._assign("diffMatchPatch",t)},unset:function(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=s({},this.operations,{unset:t}),this},setIfMissing:function(t){return this._assign("setIfMissing",t)},replace:function(t){return c("replace",t),this._set("set",{$:t})},inc:function(t){return this._assign("inc",t)},dec:function(t){return this._assign("dec",t)},insert:function(t,e,r){var n;return l(t,e,r),this._assign("insert",(o(n={},t,e),o(n,"items",r),n))},append:function(t,e){return this.insert("after","".concat(t,"[-1]"),e)},prepend:function(t,e){return this.insert("before","".concat(t,"[0]"),e)},splice:function(t,e,r,n){var o=e<0?e-1:e,i=void 0===r||-1===r?-1:Math.max(0,e+r),s=o<0&&0<=i?"":i,a="".concat(t,"[").concat(o,":").concat(s,"]");return this.insert("replace",a,n||[])},ifRevisionId:function(t){return this.operations.ifRevisionID=t,this},serialize:function(){return s(a(this.selection),this.operations)},toJSON:function(){return this.serialize()},commit:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this.client)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");var e="string"==typeof this.selection,r=s({returnFirst:e,returnDocuments:!0},t);return this.client.mutate({patch:this.serialize()},r)},reset:function(){return this.operations={},this},_set:function(t,e){return this._assign(t,e,!1)},_assign:function(t,e){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return c(t,e),this.operations=s({},this.operations,o({},t,s({},r&&this.operations[t]||{},e))),this}}),e.exports=n},{"../util/getSelection":75,"../validators":78,"deep-assign":1,"object-assign":23}],64:[function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length?arguments[1]:void 0,r=2<arguments.length?arguments[2]:void 0;this.trxId=r,this.operations=t,this.client=e}var i=t("object-assign"),s=t("../validators"),a=t("./patch"),u={returnDocuments:!1};i(o.prototype,{clone:function(){return new o(this.operations.slice(0),this.client,this.trxId)},create:function(t){return s.validateObject("create",t),this._add({create:t})},createIfNotExists:function(t){var e="createIfNotExists";return s.validateObject(e,t),s.requireDocumentId(e,t),this._add(n({},e,t))},createOrReplace:function(t){var e="createOrReplace";return s.validateObject(e,t),s.requireDocumentId(e,t),this._add(n({},e,t))},delete:function(t){return s.validateDocumentId("delete",t),this._add({delete:{id:t}})},patch:function(t,e){var r="function"==typeof e;if(t instanceof a)return this._add({patch:t.serialize()});if(r){var n=e(new a(t,{},this.client));if(!(n instanceof a))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:n.serialize()})}return this._add({patch:i({id:t},e)})},transactionId:function(t){return t?(this.trxId=t,this):this.trxId},serialize:function(){return this.operations.slice()},toJSON:function(){return this.serialize()},commit:function(t){if(!this.client)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.client.mutate(this.serialize(),i({transactionId:this.trxId},u,t||{}))},reset:function(){return this.operations=[],this},_add:function(t){return this.operations.push(t),this}}),e.exports=o},{"../validators":78,"./patch":63,"object-assign":23}],65:[function(t,e,r){"use strict";function n(t){this.request=t.request.bind(t)}var o=t("object-assign"),i=t("../validators");o(n.prototype,{create:function(t,e){return this._modify("PUT",t,e)},edit:function(t,e){return this._modify("PATCH",t,e)},delete:function(t){return this._modify("DELETE",t)},list:function(){return this.request({uri:"/datasets"})},_modify:function(t,e,r){return i.dataset(e),this.request({method:t,uri:"/datasets/".concat(e),body:r})}}),e.exports=n},{"../validators":78,"object-assign":23}],66:[function(t,e,r){"use strict";e.exports=[]},{}],67:[function(t,e,r){"use strict";function n(t){var e=i(t);n.super.call(this,e.message),a(this,e)}function o(t){var e=i(t);o.super.call(this,e.message),a(this,e)}function i(t){var e,r,n,o,i=t.body,s={response:t,statusCode:t.statusCode,responseBody:(e=i,r=t,-1!==(r.headers["content-type"]||"").toLowerCase().indexOf("application/json")?JSON.stringify(e,null,2):e)};return i.error&&i.message?s.message="".concat(i.error," - ").concat(i.message):i.error&&i.error.description?(s.message=i.error.description,s.details=i.error):s.message=i.error||i.message||(o=(n=t).statusMessage?" ".concat(n.statusMessage):"","".concat(n.method,"-request to ").concat(n.url," resulted in HTTP ").concat(n.statusCode).concat(o)),s}var s=t("make-error"),a=t("object-assign");s(n),s(o),r.ClientError=n,r.ServerError=o},{"make-error":21,"object-assign":23}],68:[function(t,e,r){"use strict";e.exports=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(t[r])));return 0<e.length?"?".concat(e.join("&")):""}},{}],69:[function(t,e,r){"use strict";function n(t){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:b)(i({maxRedirects:0},t))}var o=t("get-it"),i=t("object-assign"),s=t("get-it/lib/middleware/observable"),a=t("get-it/lib/middleware/jsonRequest"),u=t("get-it/lib/middleware/jsonResponse"),c=t("get-it/lib/middleware/progress"),l=t("@sanity/observable/minimal"),f=t("./errors"),p=f.ClientError,h=f.ServerError,d={onResponse:function(t){if(500<=t.statusCode)throw new h(t);if(400<=t.statusCode)throw new p(t);return t}},b=o(t("./nodeMiddleware").concat([a(),u(),c(),d,s({implementation:l})]));n.defaultRequester=b,n.ClientError=p,n.ServerError=h,e.exports=n},{"./errors":67,"./nodeMiddleware":66,"@sanity/observable/minimal":82,"get-it":4,"get-it/lib/middleware/jsonRequest":8,"get-it/lib/middleware/jsonResponse":9,"get-it/lib/middleware/observable":10,"get-it/lib/middleware/progress":12,"object-assign":23}],70:[function(t,e,r){"use strict";e.exports=function(t){var e={};return t.token&&(e.Authorization="Bearer ".concat(t.token)),!t.useProjectHostname&&t.projectId&&(e["X-Sanity-Project-ID"]=t.projectId),{headers:e,timeout:"timeout"in t?t.timeout:3e4,json:!0,withCredentials:Boolean(t.token||t.withCredentials)}}},{}],71:[function(t,e,r){"use strict";function n(t){this.client=t}t("object-assign")(n.prototype,{list:function(){return this.client.request({uri:"/projects"})},getById:function(t){return this.client.request({uri:"/projects/".concat(t)})}}),e.exports=n},{"object-assign":23}],72:[function(t,e,r){"use strict";function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:g;if(!(this instanceof n))return new n(t);if(this.config(t),this.assets=new p(this),this.datasets=new l(this),this.projects=new f(this),this.users=new h(this),this.auth=new d(this),this.clientConfig.isPromiseAPI){var e=o({},this.clientConfig,{isPromiseAPI:!1});this.observable=new n(e)}}var o=t("object-assign"),i=t("@sanity/observable/operators/filter").filter,s=t("@sanity/observable/operators/map").map,a=t("./data/patch"),u=t("./data/transaction"),c=t("./data/dataMethods"),l=t("./datasets/datasetsClient"),f=t("./projects/projectsClient"),p=t("./assets/assetsClient"),h=t("./users/usersClient"),d=t("./auth/authClient"),b=t("./http/request"),y=t("./http/requestOptions"),v=t("./config"),g=v.defaultConfig,m=v.initConfig;o(n.prototype,c),o(n.prototype,{clone:function(){return new n(this.config())},config:function(t){if(void 0===t)return o({},this.clientConfig);if(this.observable){var e=o({},t,{isPromiseAPI:!1});this.observable.config(e)}return this.clientConfig=m(t,this.clientConfig||{}),this},getUrl:function(t){return"".concat(1<arguments.length&&void 0!==arguments[1]&&arguments[1]?this.clientConfig.cdnUrl:this.clientConfig.url,"/").concat(t.replace(/^\//,""))},isPromiseAPI:function(){return this.clientConfig.isPromiseAPI},_requestObservable:function(t){var e=t.url||t.uri,r=this.clientConfig.useCdn&&0<=["GET","HEAD"].indexOf(t.method||"GET")&&0===e.indexOf("/data/");return b(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e.reduce(function(t,e){return t||e.headers?o(t||{},e.headers||{}):null},null);return o.apply(void 0,e.concat([n?{headers:n}:{}]))}(y(this.clientConfig),t,{url:this.getUrl(e,r)}),this.clientConfig.requester)},request:function(t){var e=this._requestObservable(t).pipe(i(function(t){return"response"===t.type}),s(function(t){return t.body}));return this.isPromiseAPI()?e.toPromise():e}}),n.Patch=a,n.Transaction=u,n.ClientError=b.ClientError,n.ServerError=b.ServerError,n.requester=b.defaultRequester,e.exports=n},{"./assets/assetsClient":57,"./auth/authClient":58,"./config":59,"./data/dataMethods":60,"./data/patch":63,"./data/transaction":64,"./datasets/datasetsClient":65,"./http/request":69,"./http/requestOptions":70,"./projects/projectsClient":71,"./users/usersClient":73,"@sanity/observable/operators/filter":83,"@sanity/observable/operators/map":84,"object-assign":23}],73:[function(t,e,r){"use strict";function n(t){this.client=t}t("object-assign")(n.prototype,{getById:function(t){return this.client.request({uri:"/users/".concat(t)})}}),e.exports=n},{"object-assign":23}],74:[function(t,e,r){"use strict";e.exports=function(r,n){return Object.keys(n).concat(Object.keys(r)).reduce(function(t,e){return t[e]=void 0===r[e]?n[e]:r[e],t},{})}},{}],75:[function(t,e,r){"use strict";e.exports=function(t){if("string"==typeof t||Array.isArray(t))return{id:t};if(t&&t.query)return{query:t.query};var e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join("\n");throw new Error("Unknown selection - must be one of:\n\n".concat(e))}},{}],76:[function(t,e,r){"use strict";e.exports=function(t){var e,r=!1;return function(){return r||(e=t.apply(void 0,arguments),r=!0),e}}},{}],77:[function(t,e,r){"use strict";e.exports=function(r,t){return t.reduce(function(t,e){return void 0===r[e]||(t[e]=r[e]),t},{})}},{}],78:[function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=["image","file"],i=["before","after","replace"];r.dataset=function(t){if(!/^[-\w]{1,128}$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes")},r.projectId=function(t){if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},r.validateAssetType=function(t){if(-1===o.indexOf(t))throw new Error("Invalid asset type: ".concat(t,". Must be one of ").concat(o.join(", ")))},r.validateObject=function(t,e){if(null===e||"object"!==n(e)||Array.isArray(e))throw new Error("".concat(t,"() takes an object of properties"))},r.requireDocumentId=function(t,e){if(!e._id)throw new Error("".concat(t,'() requires that the document contains an ID ("_id" property)'));r.validateDocumentId(t,e._id)},r.validateDocumentId=function(t,e){if("string"!=typeof e||!/^[a-z0-9_.-]+$/i.test(e))throw new Error("".concat(t,'(): "').concat(e,'" is not a valid document ID'))},r.validateInsert=function(t,e,r){var n="insert(at, selector, items)";if(-1===i.indexOf(t)){var o=i.map(function(t){return'"'.concat(t,'"')}).join(", ");throw new Error("".concat(n,' takes an "at"-argument which is one of: ').concat(o))}if("string"!=typeof e)throw new Error("".concat(n,' takes a "selector"-argument which must be a string'));if(!Array.isArray(r))throw new Error("".concat(n,' takes an "items"-argument which must be an array'))},r.hasDataset=function(t){if(!t.gradientMode&&!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""}},{}],79:[function(t,e,r){var n=t("eventsource-polyfill/dist/eventsource");e.exports=window.EventSource||n.EventSource},{"eventsource-polyfill/dist/eventsource":2}],80:[function(t,e,r){e.exports=function(t){return"https://docs.sanity.io/help/"+t}},{}],81:[function(t,e,r){"use strict";function n(){i.apply(this,arguments)}function o(t,e){var r=!1;return function(){return r||(r=!0,console.warn(new Error("Calling observable.".concat(t,"(...) is deprecated. Please use observable.pipe(").concat(t,"(...)) instead")))),this.pipe(e.apply(this,arguments))}}var i=t("rxjs/internal/Observable").Observable,s=t("object-assign"),a=t("../operators/map").map,u=t("../operators/filter").filter,c=t("../operators/reduce").reduce;n.prototype=Object.create(s(Object.create(null),i.prototype)),Object.defineProperty(n.prototype,"constructor",{value:n,enumerable:!1,writable:!0,configurable:!0}),n.prototype.lift=function(t){var e=new n;return e.source=this,e.operator=t,e},n.prototype.map=o("map",a),n.prototype.filter=o("filter",u),n.prototype.reduce=o("filter",c),e.exports=n},{"../operators/filter":83,"../operators/map":84,"../operators/reduce":85,"object-assign":23,"rxjs/internal/Observable":27}],82:[function(t,e,r){e.exports=t("./lib/SanityObservableMinimal")},{"./lib/SanityObservableMinimal":81}],83:[function(t,e,r){r.filter=t("rxjs/internal/operators/filter").filter},{"rxjs/internal/operators/filter":34}],84:[function(t,e,r){r.map=t("rxjs/internal/operators/map").map},{"rxjs/internal/operators/map":35}],85:[function(t,e,r){r.reduce=t("rxjs/internal/operators/reduce").reduce},{"rxjs/internal/operators/reduce":36}]},{},[72])(72)});
